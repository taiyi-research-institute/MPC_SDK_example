
# 标准接口定义

## 返回值
为了方便各类语言统一处理，返回值是json字符串，具体定义如下
```
{
    "success":bool //true表示执行成功，false表示失败
    "payload":string|json_value // 当 success为true时，此字段表示返回的数据，success为false，此字段表示错误信息
}
```
为了方便以下接口的返回值只对payload做说明

### keygen

创建无主私钥的一组MPC钱包

参数：

| 类型 | 名称        | 描述                                |
| ---- | ----------- | ----------------------------------- |
| string    | manager_url | 是MPC Manager (也叫MPC Server) 的http(s)链接. |
| string    | config | 是参与方的配置, 格式为t/n. 其中t为门限, n为参与方数. 在签名阶段, 需要至少t+1名参与方才能完成签名. |
| string    | code | 代表参与方的结盟关系. 这个号码是从MPC Manager申请的. 具体来说, 一个结盟在创建私钥之前, 需要向MPC Manager申请一个号码, 用来标记这个结盟. |

返回值

类型：string

描述： 可解析为json，字段如下

| 类型 | 名称    | 描述                       |
| ---- | ------- | -------------------------- |
| string    | phrase | 该私钥分片对应的助记词，建议另行保存，只在丢失私钥分片后需要重新导入时使用 |
| string    | key | 该私钥分片内容，用于各种业务（如sign） |



### sign

使用一组MPC钱包的若干分片进行签名

参数：

| 类型 | 名称        | 描述                                |
| ---- | ----------- | ----------------------------------- |
| string    | manager_url | 是MPC Manager (也叫MPC Server) 的http(s)链接. |
| string    | keyshare | 是一个私钥分片内容 |
| string    | config | 是签名参与方的配置, 格式为t/c/n. 意思是: 在t/n的keygen配置下(详见keygen函数的config参数), 选c个参与方进行签名. |
| string    | message | 是待签名的文本 |
| string    | code | 描述同keygen，但是需要另行申请 |
| string    | path | （可选）是密钥衍生的路径, 默认为空字符串. |

返回值

类型：string

描述： 可解析为json，字段如下

| 类型 | 名称    | 描述                       |
| ---- | ------- | -------------------------- |
| string    | r | r s recid等字段 |



### mkeygen

导入代表主私钥的助记词，并创建与其对应的一组MPC钱包

参数：

| 类型 | 名称        | 描述                                |
| ---- | ----------- | ----------------------------------- |
| string    | manager_url | 是MPC Manager (也叫MPC Server) 的http(s)链接. |
| string    | config | 是参与方的配置, 格式为t/n. 其中t为门限, n为参与方数. 在签名阶段, 需要至少t+1名参与方才能完成签名. |
| string    | code | 代表参与方的结盟关系. 这个号码是从MPC Manager申请的. 具体来说, 一个结盟在创建私钥之前, 需要向MPC Manager申请一个号码, 用来标记这个结盟. |
| string    | phrase | 需要导入的助记词（只有主导方需要传入） |
| string    | passwd | （可选）助记词对应的密码，默认为空（只有主导方需要传入） |

返回值

类型：string

描述： 可解析为json，字段如下

| 类型 | 名称    | 描述                       |
| ---- | ------- | -------------------------- |
| string    | phrase | 该私钥分片对应的助记词，建议另行保存，只在丢失私钥分片后需要重新导入时使用 |
| string    | key | 该私钥分片内容，用于各种业务（如sign） |



### newmkeygen

新创建代表主私钥的助记词，并创建与其对应的一组MPC钱包

参数：

| 类型 | 名称        | 描述                                |
| ---- | ----------- | ----------------------------------- |
| string    | manager_url | 是MPC Manager (也叫MPC Server) 的http(s)链接. |
| string    | config | 是参与方的配置, 格式为t/n. 其中t为门限, n为参与方数. 在签名阶段, 需要至少t+1名参与方才能完成签名. |
| string    | code | 代表参与方的结盟关系. 这个号码是从MPC Manager申请的. 具体来说, 一个结盟在创建私钥之前, 需要向MPC Manager申请一个号码, 用来标记这个结盟. |
| string    | length | 新创建的助记词的长度（只有主导方需要传入） |
| string    | passwd | （可选）助记词对应的密码，默认为空（只有主导方需要传入） |

返回值

类型：string

描述： 可解析为json，字段如下

| 类型 | 名称    | 描述                       |
| ---- | ------- | -------------------------- |
| string    | main_phrase | 该主私钥对应的助记词，务必严格保管（只有主导方能获得，其他各方此项为空字符串） |
| string    | phrase | 该私钥分片对应的助记词，建议另行保存，只在丢失私钥分片后需要重新导入时使用 |
| string    | key | 该私钥分片内容，用于各种业务（如sign） |



### pubkey

使用MPC钱包的一个分片进行子公钥衍生

参数：

| 类型 | 名称        | 描述                                |
| ---- | ----------- | ----------------------------------- |
| string    | keyshare | 是一个私钥分片内容 |
| string    | path | 是密钥衍生的路径. |

返回值

类型：string

描述： 可解析为json，字段如下

| 类型 | 名称    | 描述                       |
| ---- | ------- | -------------------------- |
| string    | x | x，y，path等字段 |
